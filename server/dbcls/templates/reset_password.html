{% extends "layout.html" %}

{% set title = 'パスワード再設定' %}
{% set page_class = 'layout-setting' %}

{% block header %}
<h1>umakaviewer</h1>
{% endblock %}

{% block contents %}
<section class="setting-submenu"></section>

<h2>パスワード再設定</h2>

<section class="setting-form">
  <form action="{{ url_for('reset_password') }}" method="post">
    <label>メールアドレス</label>
    <input type="email" name="email" class="{% if error %}has_error{% endif %}">
    {% if error %}
    <p class="setting-form__errormessage">{{ error }}</p>
    {% endif %}
    <button type="submit" class="setting-form__button setting-form__button--before" disabled="disabled">再設定する</button>
  </form>
</section>
{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-1.12.4.min.js"
			  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
			  crossorigin="anonymous"></script>
<script>
  $(function() {
    $(':input').on('keyup', function() {
      if($('input').filter(function() {return $(this).val() === ''}).length) {
        $('.setting-form__button').addClass('setting-form__button--before').prop('disabled', true)
      } else {
        $('.setting-form__button').removeClass('setting-form__button--before').prop('disabled', false)
      }
    });
  });
</script>
{% endblock %}
